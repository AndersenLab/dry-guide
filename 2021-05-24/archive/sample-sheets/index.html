<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Sample Sheets - Andersen Lab Dry Guide</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../../css/version-select.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Sample Sheets";
    var mkdocs_page_input_path = "archive/sample-sheets.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Andersen Lab Dry Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Knowledge Base</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../bash/">Command Line</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../r/">R</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../github/">Git and Github</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Quest</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../quest-intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../quest-nextflow/">Nextflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-GCPconfig/">GCP</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../quest-conda/">Conda</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-docker/">Docker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../quest-mount/">Mounting Quest</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">WI Sequencing pipelines</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-overview/">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-trimming/">trim-fq-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-alignment/">alignment-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-wiGATK/">wi-gatk</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-concordance/">concordance-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-postGATK/">post-gatk-nf</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Other pipelines</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-genomes-nf/">genomes-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-nil-ril/">nil-ril-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../adding-seq-data/">Adding NILs Sequencing Data</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-cegwas/">cegwas2-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../pipeline-nemascan/">NemaScan</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Other things</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../cendr/">CeNDR</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../backup/">Backup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cloud/">Cloud</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../labsite/">Andersen Labsite</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Andersen Lab Dry Guide</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>Sample Sheets</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Andersenlab/dry-guide/edit/master/docs/archive/sample-sheets.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="sample_sheets">Sample Sheets<a class="headerlink" href="#sample_sheets" title="Permanent link">&para;</a></h1>
<div class="toc">
<ul>
<li><a href="#sample_sheets">Sample Sheets</a></li>
<li><a href="#creating_sample_sheets">Creating sample sheets</a><ul>
<li><a href="#wi-nf_and_concordance-nf_pipelines">wi-nf and concordance-nf pipelines</a></li>
<li><a href="#nil-ril-nf">nil-ril-nf</a></li>
</ul>
</li>
<li><a href="#sample-sheet_format">Sample-Sheet Format</a><ul>
<li><a href="#absolute_vs_relative_paths">Absolute vs. relative paths</a></li>
</ul>
</li>
</ul>
</div>
<p>The <code>wi-nf</code>, <code>concordance-nf</code>, and <code>nil-ril-nf</code> pipelines all make use of sample sheets. Sample sheets specify which fastqs belong to a given strain or isotype.</p>
<h1 id="creating_sample_sheets">Creating sample sheets<a class="headerlink" href="#creating_sample_sheets" title="Permanent link">&para;</a></h1>
<h3 id="wi-nf_and_concordance-nf_pipelines">wi-nf and concordance-nf pipelines<a class="headerlink" href="#wi-nf_and_concordance-nf_pipelines" title="Permanent link">&para;</a></h3>
<p>For the <code>wi-nf</code> and <code>concordance-nf</code> pipelines, sample-sheets are generated using the file located (in each of these repos) in the <code>scripts/construct_sample_sheet.sh</code>. Importantly, these scripts are almost identical except that the <code>concordance-nf</code> pipeline constructs a sample sheet for <strong>strains</strong> whereas the <code>wi-nf</code> sample sheet is for <strong>isotypes</strong>.</p>
<p>When adding new sequence data you need to update these scripts.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The nomenclature regarding sample sheets and scripts was changed in March of 2018 to make it clearer. You may encounter older files with the following names that correspond to the newer names</p>
<ul>
<li><code>SM_sample_sheet</code> --&gt; <code>sample_sheet.tsv</code></li>
<li><code>construct_SM_sheet.sh</code> --&gt; <code>construct_sample_sheet.tsv</code></li>
</ul>
</div>
<h3 id="nil-ril-nf">nil-ril-nf<a class="headerlink" href="#nil-ril-nf" title="Permanent link">&para;</a></h3>
<p>For the nil-ril-nf pipelines you must manually create the sample sheets according to the format below.</p>
<h1 id="sample-sheet_format">Sample-Sheet Format<a class="headerlink" href="#sample-sheet_format" title="Permanent link">&para;</a></h1>
<p>The sample sheet defines which FASTQs belong to which strain/isotype and specifies additional information regarding a sample. Additional information specfieid are the FASTQ ID (a unique identifier for a FASTQ-pair), Sequencing POOL (which defines the group of samples that were sequenced together), the locations of the FASTQs, and the sequencing folder.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Internally, the 'sequencing pool' information as treated as the DNA-library identifier by BWA (<code>LB</code>).
Our lab processes sequence data such that the pool name uniquely identifies DNA-libraries for each sample.</p>
</div>
<p><strong>Sample sheet structure</strong></p>
<p>All columns are required.</p>
<ul>
<li><strong>Sample Identifier</strong> - How FASTQs should be grouped in the pipeline. Usually this is by strain or isotype.</li>
<li><strong>FASTQ ID</strong> - A unique ID for the FASTQ pair. It must be unique for all sequencing runs defined in the sample sheet.</li>
<li><strong>Sequencing pool</strong> - The sequencing pool is often defined arbitrarily. It refers to the set of strains that were sequenced together. It acts as an identifer of the DNA library within the pipelines.</li>
<li><strong>FASTQ1</strong> - A relative or absolute path to the first FASTQ.</li>
<li><strong>FASTQ2</strong> - A relative or absolute path to the second FASTQ.</li>
<li><strong>Sequencing Folder</strong> - This column is provided for informational purposes. It generally refers to the name of the folder containing the FASTQs.</li>
</ul>
<p><strong>Example</strong> </p>
<pre><code>AB1 BGI1-RET2-AB1   RET2    /projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI1-RET2-AB1-trim-1P.fq.gz /projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI1-RET2-AB1-trim-2P.fq.gz original_wi_set
AB1 BGI2-RET2-AB1   RET2    /projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI2-RET2-AB1-trim-1P.fq.gz /projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI2-RET2-AB1-trim-2P.fq.gz original_wi_set
AB1 BGI3-RET2b-AB1  RET2b   /projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI3-RET2b-AB1-trim-1P.fq.gz    /projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI3-RET2b-AB1-trim-2P.fq.gz    original_wi_set
</code></pre>
<p>Notice that the file <strong>does not include a header</strong>. The table with corresponding header included below look like this:</p>
<table>
<thead>
<tr>
<th align="left">Sample Identifeir</th>
<th align="left">FASTQ ID</th>
<th align="left">Sequencing Pool</th>
<th align="left">fastq-1-path</th>
<th align="left">fastq-2-path</th>
<th align="left">sequencing_folder</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">AB1</td>
<td align="left">BGI1-RET2-AB1</td>
<td align="left">RET2</td>
<td align="left">/projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI1-RET2-AB1-trim-1P.fq.gz</td>
<td align="left">/projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI1-RET2-AB1-trim-2P.fq.gz</td>
<td align="left">original_wi_set</td>
</tr>
<tr>
<td align="left">AB1</td>
<td align="left">BGI2-RET2-AB1</td>
<td align="left">RET2</td>
<td align="left">/projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI2-RET2-AB1-trim-1P.fq.gz</td>
<td align="left">/projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI2-RET2-AB1-trim-2P.fq.gz</td>
<td align="left">original_wi_set</td>
</tr>
<tr>
<td align="left">AB1</td>
<td align="left">BGI3-RET2b-AB1</td>
<td align="left">RET2b</td>
<td align="left">/projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI3-RET2b-AB1-trim-1P.fq.gz</td>
<td align="left">/projects/b1059/data/fastq/WI/dna/processed/original_wi_set/BGI3-RET2b-AB1-trim-2P.fq.gz</td>
<td align="left">original_wi_set</td>
</tr>
</tbody>
</table>
<h3 id="absolute_vs_relative_paths">Absolute vs. relative paths<a class="headerlink" href="#absolute_vs_relative_paths" title="Permanent link">&para;</a></h3>
<p>When constructing the sample sheet for the <code>wi-nf</code> and <code>concordance-nf</code> pipelines you are required to use the absolute paths to each FASTQ. The <code>nil-ril-nf</code> pipeline can use relative paths to FASTQs by specifying the <code>--fq_file_prefix</code> option to the parent directory containing FASTQs. </p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/Andersenlab/dry-guide/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../js/version-select.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
