<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Overview - Andersen Lab Dry Guide</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../css/version-select.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Overview";
    var mkdocs_page_input_path = "pipeline-overview.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Andersen Lab Dry Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Knowledge Base</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../bash/">Command Line</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../r/">R</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../github/">Git and Github</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Quest</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../quest-intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../quest-nextflow/">Nextflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-GCPconfig/">GCP</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../quest-conda/">Conda</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-docker/">Docker</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../quest-mount/">Mounting Quest</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">WI Sequencing pipelines</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Overview</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#wild_isolate_sequencing">Wild isolate sequencing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nil_or_ril_sequencing">NIL or RIL sequencing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#andersen_lab_coding_best_practices">Andersen Lab Coding Best Practices</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#general">General</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#r">R</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#quest">QUEST</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#python">Python</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-trimming/">trim-fq-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-alignment/">alignment-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-wiGATK/">wi-gatk</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-concordance/">concordance-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-postGATK/">post-gatk-nf</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Other pipelines</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-genomes-nf/">genomes-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-nil-ril/">nil-ril-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../adding-seq-data/">Adding NILs Sequencing Data</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-cegwas/">cegwas2-nf</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipeline-nemascan/">NemaScan</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Other things</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../cendr/">CeNDR</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../backup/">Backup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cloud/">Cloud</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../labsite/">Andersen Labsite</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Andersen Lab Dry Guide</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>WI Sequencing pipelines &raquo;</li>
        
      
    
    <li>Overview</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Andersenlab/dry-guide/edit/master/docs/pipeline-overview.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="pipeline_overview">Pipeline Overview<a class="headerlink" href="#pipeline_overview" title="Permanent link">&para;</a></h1>
<div class="toc">
<ul>
<li><a href="#pipeline_overview">Pipeline Overview</a><ul>
<li><a href="#wild_isolate_sequencing">Wild isolate sequencing</a></li>
<li><a href="#nil_or_ril_sequencing">NIL or RIL sequencing</a></li>
<li><a href="#andersen_lab_coding_best_practices">Andersen Lab Coding Best Practices</a><ul>
<li><a href="#general">General</a></li>
<li><a href="#r">R</a></li>
<li><a href="#quest">QUEST</a></li>
<li><a href="#python">Python</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>An overview of the sequencing pipelines is shown below. Wild isolate data are processed by multiple pipelines. NIL/RIL sequence data are only processed by one pipeline.</p>
<h2 id="wild_isolate_sequencing">Wild isolate sequencing<a class="headerlink" href="#wild_isolate_sequencing" title="Permanent link">&para;</a></h2>
<p><img alt="wi overview" src="../img/WI-pipeline-overview.png" /></p>
<h2 id="nil_or_ril_sequencing">NIL or RIL sequencing<a class="headerlink" href="#nil_or_ril_sequencing" title="Permanent link">&para;</a></h2>
<p><img alt="nil-ril overview" src="../img/NIL-pipeline-overview.png" /></p>
<h2 id="andersen_lab_coding_best_practices">Andersen Lab Coding Best Practices<a class="headerlink" href="#andersen_lab_coding_best_practices" title="Permanent link">&para;</a></h2>
<p>These best practices are just a few of the important coding tips and tricks for reproducible research. If you have more ideas, contact Katie!</p>
<h3 id="general">General<a class="headerlink" href="#general" title="Permanent link">&para;</a></h3>
<ul>
<li>You should be doing most (if not all) of your analyses in <code>~/Dropbox/AndersenLab/LabFolders/YourName</code> (except for QUEST, see below)<ul>
<li>This is (1) to make sure the data is backed up/saved with version history and (2) to allow other lab members to access your code/scripts when necessary</li>
</ul>
</li>
<li>Do <strong>NOT</strong> use spaces in names of files or folders. Try not to use spaces in column names too (although sometimes it is necessary for a final table output)<ul>
<li>Computers often have a hard time reading spaces and code used to ignore spaces can vary from program to program</li>
<li>Instead, you can use <code>_</code> or <code>.</code> or <code>-</code> or capitalization (<code>fileName.txt</code>)</li>
</ul>
</li>
<li><strong>NEVER</strong> replace raw data!!!!!<ul>
<li>You should save your raw data in the rawest format, write a script to analyze it, then if you wish, save the processed data for further use. This is important because it always allows you to go back to the original raw data in case something happens</li>
<li>Some suggested project folder structure might look like something below:
<img alt="directory_structure" src="../img/directory_structure.png" /></li>
</ul>
</li>
<li>Include a <code>README.md</code> (or <code>README.txt</code>) file in each project folder to explain where the data and scripts can be found for certain analyses. Trust me, after a few years you will definitely forget…<ul>
<li>And don’t forget to update the <code>README</code> regularly, an old <code>README</code> doesn’t do anyone good!</li>
</ul>
</li>
<li>Either use full path names in scripts or be explicit about where the working directory is<ul>
<li>This is important to allow other people to run your code (or might even be helpful for you if you ever reorganize folders one day)</li>
</ul>
</li>
<li>Date your files, especially when you update an existing file. Write dates in <code>YYYYMMDD</code> format</li>
<li>As much as possible, ensure that your processed data is “tidy” (see below). This doesn’t work for all complex data types, but it should be a general norm to follow.<ul>
<li>Each variable must have its own column</li>
<li>Each observation must have its own row</li>
<li>Each value must have its own cell</li>
<li>No color or highlighting </li>
<li>No empty cells (fill with <code>NA</code> if necessary)</li>
<li>Save data as plain text files (<code>.csv</code>, <code>.tsv</code>, <code>.txt</code> etc. -- NOT <code>.xls</code>!!!)</li>
</ul>
</li>
</ul>
<h3 id="r">R<a class="headerlink" href="#r" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>ALWAYS</strong> use namespaces before functions from packages (i.e. <code>dplyr::filter()</code> instead of <code>filter()</code>)<ul>
<li>This includes <code>ggplot2</code> and especially <code>dplyr</code>!!!</li>
<li>Some packages have functions with the same name, so adding a namespace is crucial for reproducibility.</li>
<li>Also, this helps other people read your code by knowing which functions came from which packages</li>
</ul>
</li>
<li>When piping with Tidyverse (<code>%&gt;%</code>), press <code>&lt;Enter&gt;</code> to go to the next line after a pipe<ul>
<li>This makes your code more readable </li>
<li>In fact, general practices state no more than 80-100 characters per line of code EVER to increase readability</li>
</ul>
</li>
</ul>
<h3 id="quest">QUEST<a class="headerlink" href="#quest" title="Permanent link">&para;</a></h3>
<ul>
<li>You should be doing most (if not all) of your analyses in <code>/projects/b1059/projects/yourName</code> (not your home directory (i.e. <code>/home/netid</code>))</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Main exception: Nextflow temporary working directories should NOT be on <code>b1059</code> (it will fill us up!) but rather in the scratch space <code>b1042</code> (files get automatically deleted here every 30 days).
A correctly designed <a href="quest-nextflow">nextflow.config</a> file will take care of this.</p>
</div>
<h3 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h3>
<p>[ Needs filling in from someone who uses python :) ]</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../pipeline-trimming/" class="btn btn-neutral float-right" title="trim-fq-nf">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../quest-mount/" class="btn btn-neutral" title="Mounting Quest"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/Andersenlab/dry-guide/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../quest-mount/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../pipeline-trimming/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../js/version-select.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
